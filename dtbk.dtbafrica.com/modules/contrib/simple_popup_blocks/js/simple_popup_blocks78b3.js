!function(s,e){"use strict";function t(){s("body").css({overflow:"hidden"})}function i(){s("body").css({overflow:""})}function a(s,e,t){if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var a="; expires="+i.toGMTString()}else a="";document.cookie=s+"="+e+a+"; path=/"}s(document).ready(function(){var e=drupalSettings.simple_popup_blocks.settings,o=document.documentElement;s.each(e,function(e,r){var d,c,n,l,p,b,h,u=r.identifier,m=r.visit_counts.split(","),w=!0,_="",f=1,g="",v="",k=!0;if(1==m.length&&0==m[0]&&(w=!1),1==w&&(_=function(s){for(var e=s+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var a=t[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null}("spb_"+u),a("spb_"+u,_?f=+_+1:f,100)),f=f.toString(),c=s.inArray(f,m),g=".",1==r.css_selector&&(g="#"),n="spb-"+u,l=u+"-modal-close",p=u+"-modal-minimize",b=u+"-modal-minimized",h="."+(d=u+"-modal")+" .spb-popup-main-wrapper",s(g+u).wrap(s('<div class="'+d+'"></div>')),s("."+d).hide(),-1==c&&1==w)return!0;if(s(g+u).wrap(s('<div class="spb-popup-main-wrapper"></div>')),s("."+d).wrap('<div id="'+n+'" class="simple-popup-blocks-global"></div>'),s(g+u).before(s('<div class="spb-controls"></div>')),!s("#"+n).hasClass("simple-popup-blocks-global"))return!0;switch("1"===r.minimize&&(s("#"+n+" .spb-controls").prepend(s('<span class="'+p+' spb_minimize">-</span>')),s("."+d).before(s('<span class="'+b+' spb_minimized"></span>'))),1==r.close&&s("#"+n+" .spb-controls").prepend(s('<span class="'+l+' spb_close">&times;</span>')),1==r.overlay&&s("."+d).addClass("spb_overlay"),r.layout){case"0":s(h).addClass("spb_top_left"),s(h).css({width:r.width});break;case"1":s(h).addClass("spb_top_right"),s(h).css({width:r.width});break;case"2":s(h).addClass("spb_bottom_left"),s(h).css({width:r.width});break;case"3":s(h).addClass("spb_bottom_right"),s(h).css({width:r.width});break;case"4":s(h).addClass("spb_center"),s(h).css({width:r.width});break;case"5":s(h).addClass("spb_top_center"),s(h).css({});break;case"6":s(h).addClass("spb_top_bar"),s(h).css({});break;case"7":s(h).addClass("spb_bottom_bar"),s(h).css({});break;case"8":s(h).addClass("spb_left_bar"),s(h).css({width:r.width});break;case"9":s(h).addClass("spb_right_bar"),s(h).css({width:r.width})}0==r.trigger_method&&r.delay>0?(v=1e3*r.delay,s("."+d).delay(v).fadeIn("slow"),1==r.overlay&&setTimeout(t,v)):0==r.trigger_method?(s("."+d).show(),s(g+u).show(),1==r.overlay&&t()):1==r.trigger_method?s(r.trigger_selector).click(function(){return s("."+d).show(),s(g+u).show(),1==r.overlay&&t(),!1}):2==r.trigger_method&&s(o).mouseleave(function(e){e.clientY>20||k&&(k=!1,s("."+d).show(),s(g+u).show(),1==r.overlay&&t())}),s("."+l).click(function(){s("."+d).hide(),i()}),s("."+p).click(function(){s("."+d).hide(),i(),s("."+b).show()}),s("."+b).click(function(){s("."+d).show(),s(g+u).show(),1==r.overlay&&t(),s("."+b).hide()}),1==r.escape&&s(document).keyup(function(e){27==e.keyCode&&(s("."+d).hide(),i(),s("."+b).show())})})})}(jQuery,Drupal);